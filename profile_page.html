<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <link rel="stylesheet" href="./styles/global.css">
    <link rel="stylesheet" href="./styles/profile_page.css">
    <script src="./scripts/auth.js"></script>
    <script src="./scripts/taskbar.js" defer></script>
    <script src="https://unpkg.com/webamp@1.5.0/built/webamp.bundle.min.js"></script>
    <script src="https://unpkg.com/butterchurn@2.6.7/lib/butterchurn.min.js"></script>
    <script src="https://unpkg.com/butterchurn-presets@2.4.7/lib/butterchurnPresets.min.js"></script>
    <script src="./scripts/profile_page.js" defer></script>
</head>

<body>
    <div class="desktop">
        <!-- Taskbar -->
        <div id="taskbar-container"></div>

        <!-- Desktop Icons -->
        <div id="desktop-icons">
            <div class="icon" ondblclick="openProgram('change-wallpaper')">
                <img src="./icons/wia_img_color-0.png" alt="Change Wallpaper">
                <p>Change Wallpaper</p>
            </div>
            <div class="icon" ondblclick="openProgram('webamp-player')">
                <img src="./icons/webamp-desktop.png" alt="Music Player">
                <p>Music Player</p>
            </div>
            <div class="icon" ondblclick="openProgram('add-songs')">
                <img src="./icons/webamp-desktop.png" alt="Add Songs">
                <p>Add Songs</p>
            </div>
        </div>

        <!-- Change Wallpaper Window -->
        <div id="change-wallpaper" class="window" style="display: none; position: absolute; top: 150px; left: 150px;">
            <div class="window-header">
                <span>Change Wallpaper</span>
                <button onclick="closeProgram('change-wallpaper')">X</button>
            </div>
            <div class="window-content">
                <h3>Select Wallpaper</h3>
                <select id="wallpaper-select">
                    <option value="bliss">Bliss</option>
                    <option value="blue-gradient">Blue Gradient</option>
                    <option value="custom">Custom</option>
                </select>
                <input type="file" id="wallpaper-upload" style="display: none;">
                <button id="load-custom-image" style="display: none;">Load Image</button>
                <button onclick="applyWallpaper()">Apply</button>
            </div>
        </div>

        <!-- Webamp Player -->
        <div id="webamp-player" style="display: none; position: absolute; top: 200px; left: 300px;">
            <div id="winamp-container"></div>
        </div>

        <!-- Add Songs Program -->
        <div id="add-songs" class="window" style="display: none; position: absolute; top: 150px; left: 150px;">
            <div class="window-header">
                <span>Add Songs</span>
                <button onclick="closeProgram('add-songs')">X</button>
            </div>
            <div class="window-content">
                <h3>Upload Songs</h3>
                <input type="file" id="song-upload" multiple accept="audio/*">
                <button onclick="handleAddSongs()">Add to Webamp</button>

                <h3>Your Songs</h3>
                <ul id="user-tracks-list"></ul>
            </div>
        </div>

    </div>
</body>

</html>